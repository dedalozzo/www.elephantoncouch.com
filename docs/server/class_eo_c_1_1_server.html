<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>eoc-server: Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">eoc-server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_eo_c_1_1_server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ElephantOnCouch query server main class.  
 <a href="class_eo_c_1_1_server.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8377af7cebb7a506380d0f1706b286ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a8377af7cebb7a506380d0f1706b286ed">__construct</a> ($fileName=&quot;&quot;)</td></tr>
<tr class="memdesc:a8377af7cebb7a506380d0f1706b286ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="class_eo_c_1_1_server.html" title="ElephantOnCouch query server main class. ">Server</a> instance.  <a href="#a8377af7cebb7a506380d0f1706b286ed">More...</a><br /></td></tr>
<tr class="separator:a8377af7cebb7a506380d0f1706b286ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421831a265621325e1fdd19aace0c758"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a421831a265621325e1fdd19aace0c758"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a421831a265621325e1fdd19aace0c758">__destruct</a> ()</td></tr>
<tr class="memdesc:a421831a265621325e1fdd19aace0c758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the <a class="el" href="class_eo_c_1_1_server.html" title="ElephantOnCouch query server main class. ">Server</a> instance previously created. <br /></td></tr>
<tr class="separator:a421831a265621325e1fdd19aace0c758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0fafe7e02a3ae1993c01c19fad2bae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb0fafe7e02a3ae1993c01c19fad2bae"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#afb0fafe7e02a3ae1993c01c19fad2bae">run</a> ()</td></tr>
<tr class="memdesc:afb0fafe7e02a3ae1993c01c19fad2bae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the server. <br /></td></tr>
<tr class="separator:afb0fafe7e02a3ae1993c01c19fad2bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9585b55420a162e640f6a0d21a6efc72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a9585b55420a162e640f6a0d21a6efc72">writeln</a> ($str)</td></tr>
<tr class="memdesc:a9585b55420a162e640f6a0d21a6efc72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a response to CouchDB via standard output.  <a href="#a9585b55420a162e640f6a0d21a6efc72">More...</a><br /></td></tr>
<tr class="separator:a9585b55420a162e640f6a0d21a6efc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e115b79ad54872c8c3ebbf15a978b40"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e115b79ad54872c8c3ebbf15a978b40"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a3e115b79ad54872c8c3ebbf15a978b40">resetFuncs</a> ()</td></tr>
<tr class="memdesc:a3e115b79ad54872c8c3ebbf15a978b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the array of the functions. <br /></td></tr>
<tr class="separator:a3e115b79ad54872c8c3ebbf15a978b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb77e3931c852927b1add834f442e8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fb77e3931c852927b1add834f442e8a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a3fb77e3931c852927b1add834f442e8a">getFuncs</a> ()</td></tr>
<tr class="memdesc:a3fb77e3931c852927b1add834f442e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the array of the functions. <br /></td></tr>
<tr class="separator:a3fb77e3931c852927b1add834f442e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b7de70f6298c934fcf8db02083b3a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a31b7de70f6298c934fcf8db02083b3a9">addFunc</a> ($fn)</td></tr>
<tr class="memdesc:a31b7de70f6298c934fcf8db02083b3a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the given function to the internal functions' list.  <a href="#a31b7de70f6298c934fcf8db02083b3a9">More...</a><br /></td></tr>
<tr class="separator:a31b7de70f6298c934fcf8db02083b3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f33f7bd64f5b105bb5bfd647dc1382"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#ad7f33f7bd64f5b105bb5bfd647dc1382">reduce</a> ($funcs, $keys, $values, $rereduce)</td></tr>
<tr class="memdesc:ad7f33f7bd64f5b105bb5bfd647dc1382"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Map step generates a set of key/valu pairs which can then optionally be reduced to a single value - or to a grouping of values - in the Reduce step.  <a href="#ad7f33f7bd64f5b105bb5bfd647dc1382">More...</a><br /></td></tr>
<tr class="separator:ad7f33f7bd64f5b105bb5bfd647dc1382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3c415ada57f553ac4a39a40051c94f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a3e3c415ada57f553ac4a39a40051c94f">log</a> ($msg)</td></tr>
<tr class="memdesc:a3e3c415ada57f553ac4a39a40051c94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells CouchDB to append the specified message in the couch.log file.  <a href="#a3e3c415ada57f553ac4a39a40051c94f">More...</a><br /></td></tr>
<tr class="separator:a3e3c415ada57f553ac4a39a40051c94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3f5151d92781f19fcb4f8546322ad3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a5e3f5151d92781f19fcb4f8546322ad3">error</a> ($keyword, $reason)</td></tr>
<tr class="memdesc:a5e3f5151d92781f19fcb4f8546322ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">In case of error CouchDB doesn't take any action. We simply notify the error, sending a special message to it.  <a href="#a5e3f5151d92781f19fcb4f8546322ad3">More...</a><br /></td></tr>
<tr class="separator:a5e3f5151d92781f19fcb4f8546322ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb59255fc7b1af427296088c276061e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#aeeb59255fc7b1af427296088c276061e">forbidden</a> ($reason)</td></tr>
<tr class="memdesc:aeeb59255fc7b1af427296088c276061e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The forbidden error are widely used by validate document update functions to stop further function processing and prevent on disk store of the new document version.  <a href="#aeeb59255fc7b1af427296088c276061e">More...</a><br /></td></tr>
<tr class="separator:aeeb59255fc7b1af427296088c276061e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d0cd9edd6f338e63a9c74ce610c8200"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a9d0cd9edd6f338e63a9c74ce610c8200">unauthorized</a> ($reason)</td></tr>
<tr class="memdesc:a9d0cd9edd6f338e63a9c74ce610c8200"><td class="mdescLeft">&#160;</td><td class="mdescRight">The unauthorized error mostly acts like forbidden one, but with semantic as please authorize first.  <a href="#a9d0cd9edd6f338e63a9c74ce610c8200">More...</a><br /></td></tr>
<tr class="separator:a9d0cd9edd6f338e63a9c74ce610c8200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb7da5b5313e9ba9a7b474e33b199a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cb7da5b5313e9ba9a7b474e33b199a5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a6cb7da5b5313e9ba9a7b474e33b199a5">getMonolog</a> ()</td></tr>
<tr class="memdesc:a6cb7da5b5313e9ba9a7b474e33b199a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the logger instance. <br /></td></tr>
<tr class="separator:a6cb7da5b5313e9ba9a7b474e33b199a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ca7e38b53c2939ce1f3b48d876a212"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a63ca7e38b53c2939ce1f3b48d876a212">setReduceLimit</a> ($value)</td></tr>
<tr class="memdesc:a63ca7e38b53c2939ce1f3b48d876a212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the limit of times a reduce function can be called.  <a href="#a63ca7e38b53c2939ce1f3b48d876a212">More...</a><br /></td></tr>
<tr class="separator:a63ca7e38b53c2939ce1f3b48d876a212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2cd13687a834f3046255c3ebd8c583"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a2cd13687a834f3046255c3ebd8c583"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#a7a2cd13687a834f3046255c3ebd8c583">setTimeout</a> ($value)</td></tr>
<tr class="memdesc:a7a2cd13687a834f3046255c3ebd8c583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the timeout for the reduce process. <br /></td></tr>
<tr class="separator:a7a2cd13687a834f3046255c3ebd8c583"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa95fc13d34664c6cc71f201856571b27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_eo_c_1_1_server.html#aa95fc13d34664c6cc71f201856571b27">loadCommands</a> ()</td></tr>
<tr class="memdesc:aa95fc13d34664c6cc71f201856571b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the commands list.  <a href="#aa95fc13d34664c6cc71f201856571b27">More...</a><br /></td></tr>
<tr class="separator:aa95fc13d34664c6cc71f201856571b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ElephantOnCouch query server main class. </p>
<dl class="section warning"><dt>Warning</dt><dd>This class won't work with CGI because uses standard input (STDIN) and standard output (STDOUT). </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://wiki.apache.org/couchdb/View_server">http://wiki.apache.org/couchdb/View_server</a> </dd></dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00027">27</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8377af7cebb7a506380d0f1706b286ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fileName</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="class_eo_c_1_1_server.html" title="ElephantOnCouch query server main class. ">Server</a> instance. </p>
<p>To enable debug logging you must pass the log file name to the constructor, otherwise high level info and errors are saved on the <code>couch.log</code> file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$fileName</td><td>The complete log file path. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00047">47</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a31b7de70f6298c934fcf8db02083b3a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addFunc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the given function to the internal functions' list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$fn</td><td>The function implementation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00159">159</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5e3f5151d92781f19fcb4f8546322ad3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$keyword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>In case of error CouchDB doesn't take any action. We simply notify the error, sending a special message to it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$keyword</td><td>The error keyword. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$reason</td><td>The error message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00224">224</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="aeeb59255fc7b1af427296088c276061e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forbidden </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The forbidden error are widely used by validate document update functions to stop further function processing and prevent on disk store of the new document version. </p>
<p>Since this errors actually is not an error, but an assertion against user actions, CouchDB doesn't log it at “error” level, but returns HTTP 403 Forbidden response with error information object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$reason</td><td>The error message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00236">236</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa95fc13d34664c6cc71f201856571b27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">loadCommands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the commands list. </p>
<p>CouchDB communicates with a Query <a class="el" href="class_eo_c_1_1_server.html" title="ElephantOnCouch query server main class. ">Server</a> over standard input/output. Each line represents a command. Every single command must be interpreted and executed by a specific command handler. </p>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00080">80</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3e3c415ada57f553ac4a39a40051c94f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells CouchDB to append the specified message in the couch.log file. </p>
<p>Any message will appear in the couch.log file, as follows: </p><div class="fragment"><div class="line">[Tue, 22 May 2012 15:26:03 GMT] [info] [&lt;0.80.0&gt;] This is a <a class="code" href="class_eo_c_1_1_server.html#a3e3c415ada57f553ac4a39a40051c94f">log</a> message</div>
</div><!-- fragment --><p> You can't force the message's level. Every message will be marked as [info] even in case of an error, because CouchDB doesn't let you specify a different level. In case or error use <a class="el" href="class_eo_c_1_1_server.html#a5e3f5151d92781f19fcb4f8546322ad3" title="In case of error CouchDB doesn&#39;t take any action. We simply notify the error, sending a special messa...">error()</a>, <a class="el" href="class_eo_c_1_1_server.html#aeeb59255fc7b1af427296088c276061e" title="The forbidden error are widely used by validate document update functions to stop further function pr...">forbidden()</a> or <a class="el" href="class_eo_c_1_1_server.html#a9d0cd9edd6f338e63a9c74ce610c8200" title="The unauthorized error mostly acts like forbidden one, but with semantic as please authorize first...">unauthorized()</a> instead. </p><dl class="section warning"><dt>Warning</dt><dd>Keep in mind that you can't use this method inside reset() or addFun(), because you are going to generate an error. CouchDB, in fact, does not expect a message when it sends <code>reset</code> or <code>add_fun</code> commands. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$msg</td><td>The message to log. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00214">214</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad7f33f7bd64f5b105bb5bfd647dc1382"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reduce </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$funcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$rereduce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Map step generates a set of key/valu pairs which can then optionally be reduced to a single value - or to a grouping of values - in the Reduce step. </p>
<p>If a view has a reduce function, it is used to produce aggregate results for that view. A reduce function is passed a set of intermediate values and combines them to a single value. Reduce functions must accept, as input, results emitted by its corresponding map function as well as results returned by the reduce function itself. The latter case is referred to as a rereduce.<br />
This function is called by commands ReduceCmd and RereduceCmd. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$funcs</td><td>An array of reduce functions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$keys</td><td>An array of mapped keys and document IDs in the form of [key, id]. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">array</td><td class="paramname">$values</td><td>An array of mapped values. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramtype">bool</td><td class="paramname">$rereduce</td><td>When <code>true</code> the values will be reduced again. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function ignores the value of <code>reduce_limit</code>, because the author thinks the algorithm used by the JavaScript query server sucks. </dd></dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00179">179</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="a63ca7e38b53c2939ce1f3b48d876a212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setReduceLimit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the limit of times a reduce function can be called. </p>
<dl class="section warning"><dt>Warning</dt><dd>Actually <code>reduce_limit</code> config option is a boolean. </dd></dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00264">264</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9d0cd9edd6f338e63a9c74ce610c8200"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unauthorized </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The unauthorized error mostly acts like forbidden one, but with semantic as please authorize first. </p>
<p>CouchDB doesn't log it at “error” level, but returns HTTP 401 Unauthorized response with error information object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$reason</td><td>The error message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00247">247</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9585b55420a162e640f6a0d21a6efc72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">writeln </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a response to CouchDB via standard output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramtype">string</td><td class="paramname">$str</td><td>The string to send. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_8php_source.html#l00131">131</a> of file <a class="el" href="_server_8php_source.html">Server.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/EoC/<a class="el" href="_server_8php_source.html">Server.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>EoC</b></li><li class="navelem"><a class="el" href="class_eo_c_1_1_server.html">Server</a></li>
    <li class="footer">Generated on Wed Jun 1 2016 18:17:19 for eoc-server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
